{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,CircularProgress,Alert}from'@mui/material';import Form from'./components/Form';import Result from'./components/Result';import{fetchMetadata,fetchPrediction}from'./services/api';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[metadata,setMetadata]=useState(null);const[prediction,setPrediction]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const loadMetadata=async()=>{try{const data=await fetchMetadata();setMetadata(data);}catch(err){setError(\"Failed to load metadata. Please try again later.\");}};loadMetadata();},[]);const handleSubmit=async formData=>{setLoading(true);setError(null);try{const result=await fetchPrediction(formData);setPrediction(result);}catch(err){setError(\"Failed to get prediction. Please try again.\");}finally{setLoading(false);}};const handleReset=()=>{setPrediction(null);setError(null);};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"D\\xE9tection de Fraude Douani\\xE8re\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),metadata?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Form,{metadata:metadata,onSubmit:handleSubmit,onReset:handleReset}),loading&&/*#__PURE__*/_jsx(CircularProgress,{}),prediction&&/*#__PURE__*/_jsx(Result,{prediction:prediction})]}):/*#__PURE__*/_jsx(CircularProgress,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","CircularProgress","Alert","Form","Result","fetchMetadata","fetchPrediction","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","metadata","setMetadata","prediction","setPrediction","loading","setLoading","error","setError","loadMetadata","data","err","handleSubmit","formData","result","handleReset","maxWidth","children","variant","component","gutterBottom","severity","onSubmit","onReset"],"sources":["C:/Users/HP 820 G3/Desktop/DOUANES CI/ANALYSE CONTENTIEUX/fraud_app/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Typography, CircularProgress, Alert } from '@mui/material';\r\nimport Form from './components/Form';\r\nimport Result from './components/Result';\r\nimport { fetchMetadata, fetchPrediction } from './services/api';\r\n\r\nfunction App() {\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [prediction, setPrediction] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadMetadata = async () => {\r\n      try {\r\n        const data = await fetchMetadata();\r\n        setMetadata(data);\r\n      } catch (err) {\r\n        setError(\"Failed to load metadata. Please try again later.\");\r\n      }\r\n    };\r\n    loadMetadata();\r\n  }, []);\r\n\r\n  const handleSubmit = async (formData) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const result = await fetchPrediction(formData);\r\n      setPrediction(result);\r\n    } catch (err) {\r\n      setError(\"Failed to get prediction. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setPrediction(null);\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n        Détection de Fraude Douanière\r\n      </Typography>\r\n      {error && <Alert severity=\"error\">{error}</Alert>}\r\n      {metadata ? (\r\n        <>\r\n          <Form metadata={metadata} onSubmit={handleSubmit} onReset={handleReset} />\r\n          {loading && <CircularProgress />}\r\n          {prediction && <Result prediction={prediction} />}\r\n        </>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,UAAU,CAAEC,gBAAgB,CAAEC,KAAK,KAAQ,eAAe,CAC9E,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAASC,aAAa,CAAEC,eAAe,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhE,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAlB,aAAa,CAAC,CAAC,CAClCU,WAAW,CAACQ,IAAI,CAAC,CACnB,CAAE,MAAOC,GAAG,CAAE,CACZH,QAAQ,CAAC,kDAAkD,CAAC,CAC9D,CACF,CAAC,CACDC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACvCP,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAM,MAAM,CAAG,KAAM,CAAArB,eAAe,CAACoB,QAAQ,CAAC,CAC9CT,aAAa,CAACU,MAAM,CAAC,CACvB,CAAE,MAAOH,GAAG,CAAE,CACZH,QAAQ,CAAC,6CAA6C,CAAC,CACzD,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAS,WAAW,CAAGA,CAAA,GAAM,CACxBX,aAAa,CAAC,IAAI,CAAC,CACnBI,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,mBACET,KAAA,CAACb,SAAS,EAAC8B,QAAQ,CAAC,IAAI,CAAAC,QAAA,eACtBtB,IAAA,CAACR,UAAU,EAAC+B,OAAO,CAAC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,YAAY,MAAAH,QAAA,CAAC,qCAErD,CAAY,CAAC,CACZV,KAAK,eAAIZ,IAAA,CAACN,KAAK,EAACgC,QAAQ,CAAC,OAAO,CAAAJ,QAAA,CAAEV,KAAK,CAAQ,CAAC,CAChDN,QAAQ,cACPF,KAAA,CAAAF,SAAA,EAAAoB,QAAA,eACEtB,IAAA,CAACL,IAAI,EAACW,QAAQ,CAAEA,QAAS,CAACqB,QAAQ,CAAEV,YAAa,CAACW,OAAO,CAAER,WAAY,CAAE,CAAC,CACzEV,OAAO,eAAIV,IAAA,CAACP,gBAAgB,GAAE,CAAC,CAC/Be,UAAU,eAAIR,IAAA,CAACJ,MAAM,EAACY,UAAU,CAAEA,UAAW,CAAE,CAAC,EACjD,CAAC,cAEHR,IAAA,CAACP,gBAAgB,GAAE,CACpB,EACQ,CAAC,CAEhB,CAEA,cAAe,CAAAY,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}